<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Aman Bihari</title>
    <link rel="icon" href="head.jpg" type="image/jpeg">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <style>
        /* [Previous CSS styles remain exactly the same] */
    </style>
</head>
<body>
<h1>Viral Videos</h1>

<!-- Search Bar -->
<input type="text" id="searchInput" class="search-bar" placeholder="Search by month and year">

<div class="videos-wrapper">
    <div class="video-container" id="video1-container" data-search="MSD THALA FOR A REASON. MARCH 2025">
        <h2>MS Dhoni</h2>
        <video id="video1" controls playsinline>
            <source src="videos/1.mp4" type="video/mp4">
            <source src="videos/1.webm" type="video/webm">
            Your browser does not support HTML5 video. Here's a <a href="videos/1.mp4">link to download</a> instead.
        </video>
        <div class="video-error" id="error1" style="color: red; display: none;"></div>
        <div class="share-container">
            <button class="share-button share-link" onclick="showShareModal('video1', 'MS Dhoni - THALA FOR A REASON')">
                <i class="fas fa-share"></i> Share
            </button>
        </div>
        <div class="video-description">
            <h3>THALA FOR A REASON.</h3>
            <p>MARCH 2025</p>
        </div>
    </div>

    <div class="video-container" id="video2-container" data-search="Drum With Cement Very Dangerous Combination MARCH 2025">
        <h2>Drum With Cementüõ¢Ô∏è</h2>
        <video id="video2" controls playsinline>
            <source src="videos/drum.mp4" type="video/mp4">
            <source src="videos/drum.webm" type="video/webm">
            Your browser does not support HTML5 video. Here's a <a href="videos/drum.mp4">link to download</a> instead.
        </video>
        <div class="video-error" id="error2" style="color: red; display: none;"></div>
        <div class="share-container">
            <button class="share-button share-link" onclick="showShareModal('video2', 'Drum and cement a very dangerous combination')">
                <i class="fas fa-share"></i> Share
            </button>
        </div>
        <div class="video-description">
            <h3>Drum and cement a very dangerous combination</h3>
            <p>MARCH 2025</p>
            <p>Video source: <a href="https://www.instagram.com/reel/DHlACnkTXB1/" class="instagram-button" target="_blank">Instagram</a></p>
        </div>
    </div>
</div>

<!-- Share Modal -->
<div class="share-modal" id="shareModal">
    <!-- [Modal content remains the same] -->
</div>

<script>
    document.addEventListener('DOMContentLoaded', function () {
        // [Previous initialization code remains the same]
        
        // Add error handling for videos
        setupVideoErrorHandling();
        
        // Call the function to filter videos when the page loads
        filterVideosFromUrl();
        checkFeaturedVideo();
    });

    function setupVideoErrorHandling() {
        const videos = document.querySelectorAll('video');
        
        videos.forEach(video => {
            const videoId = video.id;
            const errorElement = document.getElementById(`error${videoId.replace('video', '')}`);
            
            video.addEventListener('error', function() {
                errorElement.textContent = 'Error loading video. Please check the file path or try another browser.';
                errorElement.style.display = 'block';
                
                // Check network state to determine specific error
                switch(video.networkState) {
                    case HTMLMediaElement.NETWORK_NO_SOURCE:
                        errorElement.textContent += ' (No video source found)';
                        break;
                    case HTMLMediaElement.NETWORK_EMPTY:
                        errorElement.textContent += ' (Video not loaded)';
                        break;
                    case HTMLMediaElement.NETWORK_IDLE:
                        errorElement.textContent += ' (Network idle)';
                        break;
                }
            });
            
            // Try to load video programmatically if it fails
            video.load();
        });
    }

    // [Rest of your JavaScript functions remain the same]
</script>

</body>
</html>
